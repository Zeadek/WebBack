<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задание 3</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
                <form id="Form" action="submit.cgi" method="post">
       <input type="text" name="fio" placeholder="ФИО">
       <input type="email" name="email" placeholder="Email">
       <input type="tel" name="phone" placeholder="Телефон">
       <label id="lang_lbl">Любимый язык программирования:
            <select multiple="multiple" name = "langs">
            <option value = 1>Pascal</option>
            <option value = 2>C</option>
            <option value = 3>C++</option>
            <option value = 4>JavaScript</option>
            <option value = 5>PHP</option>
            <option value = 6>Python</option>
            <option value = 7>Java</option>
            <option value = 8>Haskel</option>
            <option value = 9>Clojure</option>
            <option value = 10>Prolog</option>
            <option value = 11>Scala</option>
            <option value = 12>Go</option>
            </select>
       </label>
        <input type="date" name="date" id = "date" placeholder="Дата рождения">
        <div id = "gend">
            <a>Пол:</a>
            <input type = "radio" name="gender" id="gender" value="male" checked="checked">М
            <input type="radio" name="gender" value="female">Ж
        </div>
       <textarea name="message" placeholder="Биография"></textarea>
       <br>
       <label id="contract_lbl">
           <input type="checkbox" id="contract" name="policy"> С контрактом ознакомлен
       </label>
       <br>
       <button type="submit">Отправить</button>
    </form>

    <div class="status-bar hidden">
    {{ range . }}
        {{ if contains . "некорректно" }}
        <div class="notification error" title="{{ . }}">
            <img src="img/error.png" alt="">
            <span>{{ . }}</span>
        </div>
        {{ else }}
        <div class="notification warning" title="{{ . }}">
            <img src="img/warning.png" alt="">
            <span>{{ . }}</span>
        </div>
        {{ end }}
    {{ else }}
        <div class="notification success" title="{{ . }}">
            <img src="img/success.png" alt="">
            <span>Данные отправлены успешно</span>
        </div>
    {{ end }}
    </div>

    <script>
        const statusBar = document.querySelector('.status-bar');

if (!statusBar.innerHTML.includes('range')) {
    statusBar.classList.remove('hidden');

    notifications = Array.from(document.querySelectorAll('.notification'));

    notifications.forEach((elem, index) => {
        setTimeout(() => {
            elem.classList.add('show');
        }, 250 * (index + 1));
    });

    setTimeout(() => {
        notifications.reverse().forEach((elem, index) => {
            setInterval(() => {
                elem.classList.remove('show');
                elem.classList.add('hide');
            }, 250 * (index + 1));
        });

        setTimeout(() => {
            statusBar.remove();
        }, 2250)
    }, 8000);
}
    </script>
</body>
</html>